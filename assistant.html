<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LAILA | AI Assistant</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-main:#0e0f14; --bg-soft:#151722;
      --accent:#8b8df8; --accent-soft:#6f72e6;
      --text:#ffffff; --muted:rgba(255,255,255,0.74);
      --border:rgba(255,255,255,0.08);
      --shadow:0 18px 60px rgba(0,0,0,0.45);
      --radius:18px; --radius-lg:22px;
      --ease:cubic-bezier(.2,.8,.2,1);
    }

    *{margin:0;padding:0;box-sizing:border-box;font-family:"Montserrat",sans-serif;}
    body{
      background:radial-gradient(circle at top,#1a1c2d,var(--bg-main));
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
    }

    header{
      position:sticky;top:0;z-index:50;
      display:flex;justify-content:space-between;align-items:center;
      padding:16px 18px;
      border-bottom:1px solid var(--border);
      background:rgba(14,15,20,0.7);
      backdrop-filter:blur(14px);
    }

    .brand{font-weight:700;letter-spacing:2px;display:flex;align-items:center;gap:10px;}
    .dot{
      width:10px;height:10px;border-radius:50%;
      background:linear-gradient(135deg,var(--accent),var(--accent-soft));
      box-shadow:0 0 0 6px rgba(139,141,248,0.12);
    }

    nav{display:none;gap:18px;}
    nav a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:999px;}
    nav a.active{color:var(--text);background:rgba(139,141,248,0.1);}

    .right{display:flex;gap:10px;}
    .lang button{
      border:1px solid var(--border);
      background:rgba(255,255,255,.02);
      color:var(--text);
      padding:7px 12px;
      border-radius:999px;
      cursor:pointer;
    }
    .lang button.active{
      background:linear-gradient(135deg,var(--accent),var(--accent-soft));
      border:none;
    }

    main{
      max-width:900px;
      margin:0 auto;
      padding:60px 18px 90px;
    }

    .hero{text-align:center;margin-bottom:40px;}
    .hero h1{font-size:2.4rem;margin-bottom:12px;}
    .hero p{color:var(--muted);line-height:1.7;}

    .search-box{
      background:rgba(21,23,34,.9);
      border:1px solid var(--border);
      border-radius:var(--radius-lg);
      padding:18px;
      box-shadow:var(--shadow);
    }

    .search-box input{
      width:100%;
      padding:14px 16px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,0.03);
      color:var(--text);
      outline:none;
      font-size:0.95rem;
    }

    .search-box button{
      margin-top:12px;
      width:100%;
      padding:12px;
      border-radius:999px;
      border:none;
      background:linear-gradient(135deg,var(--accent),var(--accent-soft));
      color:#fff;
      cursor:pointer;
    }

    .answer{
      margin-top:28px;
      background:rgba(21,23,34,.85);
      border:1px solid var(--border);
      border-radius:var(--radius-lg);
      padding:22px;
      line-height:1.7;
      display:none;
    }

    @media(min-width:768px){
      nav{display:flex;}
      .hero h1{font-size:2.8rem;}
    }

    [data-lang]{display:none;}
  </style>
</head>

<body>

<header>
  <div class="brand"><span class="dot"></span>LAILA</div>

  <nav>
    <a href="index.html">Home</a>
    <a href="archive.html">Archive</a>
    <a href="learn.html">Learn</a>
    <a href="assistant.html" class="active">AI Assistant</a>
  </nav>

  <div class="lang">
    <button id="btn-en">EN</button>
    <button id="btn-ar">AR</button>
  </div>
</header>

<main>

  <section class="hero">
    <div data-lang="en">
      <h1>Ask LAILA</h1>
      <p>Search and ask questions based on the rhythmic gymnastics archive.</p>
    </div>
    <div data-lang="ar">
      <h1>اسأل ليلى</h1>
      <p>ابحث واسأل عن أي معلومة داخل أرشيف الجمباز الإيقاعي.</p>
    </div>
  </section>

  <section class="search-box">
    <input id="question" type="text" placeholder="Ask about rules, apparatus, gymnasts..." />
    <button onclick="askLaila()">Ask</button>
  </section>

  <div class="answer" id="answerBox"></div>

</main>

<script>
const STORAGE_KEY="laila_lang";

/* === Archive Knowledge (Condensed) === */
const archive = [
  { key:["history","تاريخ"], answer:{
    en:"Rhythmic gymnastics developed from expressive movement and dance, later becoming a competitive Olympic sport.",
    ar:"تطور الجمباز الإيقاعي من حركات تعبيرية إلى رياضة تنافسية أولمبية."
  }},
  { key:["ribbon","شريط"], answer:{
    en:"The ribbon emphasizes fluidity, continuity, and large expressive movements.",
    ar:"يركز الشريط على السلاسة والاستمرارية والحركات التعبيرية الواسعة."
  }},
  { key:["difficulty","D","الصعوبة"], answer:{
    en:"Difficulty score measures body and apparatus elements and their complexity.",
    ar:"درجة الصعوبة تقيس عناصر الجسم والأداة وتعقيدها."
  }},
  { key:["execution","E","التنفيذ"], answer:{
    en:"Execution score evaluates technique, accuracy, and control.",
    ar:"درجة التنفيذ تقيم التكنيك والدقة والتحكم."
  }},
  { key:["artistry","الفني"], answer:{
    en:"Artistry evaluates musical interpretation, expression, and choreography.",
    ar:"الدرجة الفنية تقيم التفسير الموسيقي والتعبير والتكوين الحركي."
  }},
  { key:["leila","ليلى"], answer:{
    en:"Leila Hesham Abdelhamid is a rhythmic gymnast from Al-Seid Club who achieved multiple local titles.",
    ar:"ليلى هشام عبد الحميد لاعبة جمباز إيقاعي بنادي الصيد، حققت العديد من البطولات المحلية."
  }}
];

async function askLaila(){
  const q = document.getElementById("question").value;
  const box = document.getElementById("answerBox");
  const lang = localStorage.getItem("laila_lang") || "en";

  box.style.display = "block";
  box.innerText = lang === "en" ? "Thinking..." : "جاري التفكير...";

  const res = await fetch("https://YOUR-VERCEL-URL/api/laila", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ question: q, lang })
  });

  const data = await res.json();
  box.innerText = data.answer;
}

/* === Language === */
function setLang(lang){
  document.querySelectorAll("[data-lang]").forEach(e=>{
    e.style.display = e.getAttribute("data-lang")===lang ? "block":"none";
  });
  document.documentElement.dir = lang==="ar"?"rtl":"ltr";
  document.getElementById("btn-en").classList.toggle("active",lang==="en");
  document.getElementById("btn-ar").classList.toggle("active",lang==="ar");
  localStorage.setItem(STORAGE_KEY,lang);
}

const saved=localStorage.getItem(STORAGE_KEY)||"en";
setLang(saved);
document.getElementById("btn-en").onclick=()=>setLang("en");
document.getElementById("btn-ar").onclick=()=>setLang("ar");
</script>

</body>
</html>

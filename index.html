<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>LAILA.ONE | Creative Intelligence Engine</title>

<link rel="icon" href="favicon.png" />
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>

<style>
/* ===== COLORS & ROOT ===== */
:root {
  --accent-1: #a855f7;
  --accent-2: #22d3ee;
  --text-main: #f9fafb;
  --text-muted: #9ca3af;
  --border-subtle: rgba(255,255,255,0.06);
  --radius-xl: 24px;
  --radius-lg: 18px;
  --shadow-soft: 0 24px 80px rgba(0,0,0,0.65);
  --trans: 0.2s ease-out;
}

/* ===== GLOBAL ===== */
html, body {
  margin:0; padding:0;
  width:100%; min-height:100%;
  font-family:"Montserrat",sans-serif;
  background: radial-gradient(circle at top left,#111827 0,#020617 42%,#000 80%);
  color: var(--text-main);
  overflow-x:hidden;
}

/* ===== ORBS ===== */
.orb {
  position:fixed; filter:blur(60px); opacity:0.75; pointer-events:none; z-index:-1;
}
.orb--purple { width:340px;height:340px; background:radial-gradient(circle,rgba(168,85,247,0.8),transparent 70%); top:-80px; right:-60px; animation:floatOrb 8s ease-in-out infinite;}
.orb--cyan   { width:320px;height:320px; background:radial-gradient(circle,rgba(56,189,248,0.8),transparent 70%); bottom:-100px; left:-40px; animation:floatOrb 10s ease-in-out infinite reverse;}
@keyframes floatOrb{0%{transform:translateY(0) scale(1);}50%{transform:translateY(-12px) scale(1.04);}100%{transform:translateY(0) scale(1);}}

/* ===== NAVBAR ===== */
.nav { display:flex; justify-content:space-between; align-items:center; margin-top:12px; }
.nav-left { display:flex; gap:12px; align-items:center; }
.logo-mark { width:38px;height:38px;border-radius:50%;background:radial-gradient(circle at 20% 20%,#e5e7eb,#020617);display:flex;align-items:center;justify-content:center;}
.logo-mark span { font-weight:700;font-size:15px;color:#020617;}
.logo-text .logo-title { font-size:17px;font-weight:600;text-transform:uppercase; }
.logo-text .logo-sub { font-size:11px;color:var(--text-muted);text-transform:uppercase;}
.btn-outline {
  padding:8px 14px;border-radius:999px;border:1px solid rgba(148,163,184,0.6);
  background:rgba(15,23,42,0.9);color:var(--text-main);
  cursor:pointer;font-size:12px;transition:all var(--trans);
}
.btn-outline:hover { transform:translateY(-2px);filter:brightness(1.1); }

/* ===== MAIN TITLE ===== */
.main-title { font-size:32px;text-align:center;margin-top:20px;margin-bottom:16px; }
.main-title span {
  background:linear-gradient(120deg,var(--accent-2),var(--accent-1));
  -webkit-background-clip:text;color:transparent;
}

/* ===== PLAYGROUND ===== */
.playground {
  margin-top:24px;padding:24px;
  border-radius:var(--radius-xl);
  background:linear-gradient(145deg,rgba(15,23,42,0.98),#020617);
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
  max-width:1024px;margin:auto;
}

/* ===== TEXTAREA ===== */
textarea {
  width:100%;min-height:120px;border-radius:14px;border:1px solid rgba(31,41,55,0.9);
  background:rgba(15,23,42,0.95);color:var(--text-main);
  padding:12px;font-size:14px;outline:none;
  margin-top:12px;
}

/* ===== BUTTONS ===== */
.btn-compact {
  font-size:11px;padding:8px 14px;border-radius:999px;
  border:1px solid rgba(148,163,184,0.6);
  background:rgba(15,23,42,0.95);color:var(--text-main);
  cursor:pointer;margin:6px 4px 0 0;transition:all var(--trans);
}
.btn-compact:hover { transform:translateY(-2px);border-color:rgba(248,250,252,0.8); }
.btn-compact-primary {
  background:linear-gradient(120deg,var(--accent-2),var(--accent-1));border:none;color:#020617;
}
.btn-compact-primary:hover { transform:translateY(-2px); }

/* ===== CUSTOM CHOOSE FILE BUTTON ===== */
.upload-btn {
  padding:8px 18px;border-radius:999px;
  background: linear-gradient(120deg,var(--accent-2),var(--accent-1));
  color:#020617;font-weight:600;
  border:none;cursor:pointer;transition:all var(--trans);
}
.upload-btn:hover { transform:translateY(-2px);filter:brightness(1.15); }

/* ===== UPLOAD AREA ===== */
.upload-area {
  display:flex;align-items:center;gap:12px;
  border-radius:var(--radius-lg);
  background:rgba(15,23,42,0.9);
  padding:16px;margin-top:24px;
}
.upload-icon { font-size:20px; }
img.preview {
  max-width:140px;border-radius:12px;border:1px solid rgba(148,163,184,0.4);
}

/* ===== OUTPUT ===== */
.output-panel {
  margin-top:24px;border-radius:18px;border:1px solid rgba(148,163,184,0.4);
  background:rgba(15,23,42,0.9);padding:16px;
}

/* ===== SPINNER ===== */
#spinnerOverlay {
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);display:none;
  justify-content:center;align-items:center;flex-direction:column;
  z-index:10000;
}
.spinner {
  border:6px solid rgba(255,255,255,0.2);
  border-top:6px solid var(--accent-2);
  border-radius:50%;width:50px;height:50px;
  animation:spin 1s linear infinite;
}
@keyframes spin { to{transform:rotate(360deg);} }
@keyframes fadeInUp{
  from{opacity:0;transform:translateY(40px);} to{opacity:1;transform:translateY(0);}
}
</style>
</head>

<body>
<div class="orb orb--purple"></div>
<div class="orb orb--cyan"></div>

<div id="spinnerOverlay">
  <div class="spinner"></div>
  <div id="spinnerText">Loading...</div>
</div>

<main>

  <div class="nav">
    <div class="nav-left">
      <div class="logo-mark"><span>L</span></div>
      <div class="logo-text">
        <div class="logo-title">LAILA.ONE</div>
        <div class="logo-sub">CREATIVE INTELLIGENCE ENGINE</div>
      </div>
    </div>
    <button class="btn-outline" id="langToggle">AR</button>
  </div>

  <h1 class="main-title" id="mainTitle">Turn any idea into a ready-to-use AI prompt</h1>

  <div class="playground">

    <!-- ====================== Choose + Describe Image (side by side) ====================== -->
    <div class="upload-area">
      <div class="upload-icon">ðŸ“·</div>
      <label class="upload-btn">
        Choose File <input type="file" id="imageInput" accept="image/*"/>
      </label>
      <button class="btn-compact" id="btnDescribe">Describe image</button>

      <!-- Image preview container -->
      <div id="previewContainer"></div>
    </div>

    <!-- ====================== Output Box ====================== -->
    <div class="output-panel">
      <div id="outputBody" style="font-size:13px;color:var(--text-muted);">
        Type a prompt or upload an image.
      </div>
    </div>

    <!-- ====================== Prompt Text + Presets ====================== -->
    <textarea id="promptInput" placeholder="Describe what you want to see"></textarea>

    <div>
      <button class="btn-compact" data-preset="Cinematic">Cinematic</button>
      <button class="btn-compact" data-preset="Ultra-realistic">Ultra-realistic</button>
      <button class="btn-compact" data-preset="Product shot">Product shot</button>
      <button class="btn-compact" data-preset="Portrait studio">Portrait studio</button>
      <button class="btn-compact" data-preset="Anime / stylized">Anime / stylized</button>
      <button class="btn-compact" data-preset="LAILA signature">LAILA signature</button>
    </div>

    <div style="text-align:center; margin-top:12px;">
      <button class="btn-compact btn-compact-primary" id="btnGenerate">Generate with LAILA</button>
    </div>

  </div>

  <!-- Copyright -->
  <div style="text-align:center; margin-top:28px; font-size:11px; color:var(--text-muted);">
    Â© 2025 LAILA.ONE â€” Private creative intelligence for visual storytellers.
  </div>

</main>

<script>
// Language toggle (simple placeholder)
let currentLang="en";
document.getElementById("langToggle").addEventListener("click",()=>{
  currentLang = currentLang==="en"?"ar":"en";
  document.getElementById("langToggle").textContent = currentLang==="en"?"AR":"EN";
});

// IMAGE PREVIEW
const imgInput = document.getElementById("imageInput");
const previewContainer = document.getElementById("previewContainer");
imgInput.addEventListener("change", () => {
  previewContainer.innerHTML = "";
  const file = imgInput.files[0];
  if (!file) return;
  const img = document.createElement("img");
  img.src = URL.createObjectURL(file);
  img.className = "preview";
  previewContainer.appendChild(img);
});

// DESCRIBE IMAGE (Backend)
document.getElementById("btnDescribe").addEventListener("click", async () => {
  const file = imgInput.files[0];
  if (!file) return;
  showProgress(currentLang==="en"?"Describing imageâ€¦":"Ø¬Ø§Ø±ÙŠ ÙˆØµÙ Ø§Ù„ØµÙˆØ±Ø©â€¦");

  const formData = new FormData();
  formData.append("image", file);

  try {
    const res = await fetch("https://laila-backend.onrender.com/describe-image",{method:"POST",body:formData});
    const data = await res.json();
    document.getElementById("outputBody").textContent = data.description || "";
  } catch {
    document.getElementById("outputBody").textContent = currentLang==="en"?"Error describing image.":"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ÙˆØµÙ Ø§Ù„ØµÙˆØ±Ø©.";
  } finally {
    hideProgress();
  }
});

// PRESets
document.querySelectorAll("[data-preset]").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.getElementById("promptInput").value += " " + btn.dataset.preset;
  });
});

// Generate with LAILA (dummy â€” backend not connected for text)
document.getElementById("btnGenerate").addEventListener("click",()=>{
  const text=document.getElementById("promptInput").value.trim();
  if(text) document.getElementById("outputBody").textContent = text;
});

// SPINNER
const spinner = document.getElementById("spinnerOverlay");
const spinnerText = document.getElementById("spinnerText");
function showProgress(txt){
  spinnerText.textContent = txt;
  spinner.style.display = "flex";
}
function hideProgress(){
  spinner.style.display = "none";
}
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>LAILA.ONE | Creative Intelligence Engine</title>

<link rel="icon" href="favicon.png" />
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>

<style>
:root {
  --accent-1: #a855f7;
  --accent-2: #22d3ee;
  --text-main: #f9fafb;
  --text-muted: #9ca3af;
  --bg-dark: #0f172a;
  --border-subtle: rgba(255,255,255,0.06);
  --radius-lg: 18px;
  --shadow-soft: 0 24px 80px rgba(0,0,0,0.65);
  --trans: 0.2s ease-out;
}

html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  font-family:"Montserrat",sans-serif;
  background: radial-gradient(circle at top left,#111827 0,#020617 42%,#000 80%);
  color:var(--text-main);
  overflow-x:hidden;
}
main {
  padding:12px 16px;
}

/* HEADER */
.nav {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 8px;
}
.logo-mark {
  width:40px; height:40px;
  border-radius:50%;
  background:radial-gradient(circle at 20% 20%,#e5e7eb,#020617);
  display:flex; align-items:center; justify-content:center;
}
.logo-mark span {
  font-weight:700;
  font-size:16px;
  color:#020617;
}
.logo-text .logo-title {
  font-size:18px; font-weight:600; text-transform:uppercase;
}
.logo-text .logo-sub {
  font-size:11px; color:var(--text-muted); text-transform:uppercase;
}
.btn-outline {
  padding:6px 14px;border-radius:999px;
  border:1px solid rgba(148,163,184,0.6);
  background:rgba(15,23,42,0.9);
  color:var(--text-main);
  cursor:pointer;font-size:12px;transition:all var(--trans);
}
.btn-outline:hover {
  transform:translateY(-1px);
  filter:brightness(1.1);
}

/* TITLE */
.main-title {
  font-size:26px;
  text-align:center;
  margin:8px 0;
}
.main-title span {
  background:linear-gradient(120deg,var(--accent-2),var(--accent-1));
  -webkit-background-clip:text;color:transparent;
}

/* UPLOAD BTN + DESCRIBE */
.upload-area {
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  flex-wrap:nowrap;
  margin:10px 0;
}
.upload-btn {
  padding:8px 18px;border-radius:999px;
  background:linear-gradient(120deg,var(--accent-2),var(--accent-1));
  color:#020617;font-weight:600;
  border:none;cursor:pointer;transition:all var(--trans);
  font-size:14px;
}
.upload-btn:hover {
  transform:translateY(-1px);
  filter:brightness(1.1);
}
.btn-compact {
  font-size:13px;padding:8px 14px;border-radius:999px;
  border:1px solid rgba(148,163,184,0.6);
  background:rgba(15,23,42,0.95);
  color:var(--text-main);
  cursor:pointer;transition:all var(--trans);
}
.btn-compact:hover {
  transform:translateY(-1px);
  border-color:rgba(248,250,252,0.8);
}
.btn-compact-primary {
  background:linear-gradient(120deg,var(--accent-2),var(--accent-1));
  border:none;color:#020617;
}

/* IMAGE PREVIEW */
img.preview {
  max-width:160px; height:auto;
  border-radius:12px;
  border:1px solid rgba(148,163,184,0.4);
  display:block;
  margin:0 auto 8px auto;
}

/* OUTPUT BOX */
.output-panel {
  background:rgba(15,23,42,0.9);
  border:1px solid rgba(148,163,184,0.4);
  border-radius:16px;
  padding:10px;
  color:var(--text-muted);
  font-size:14px;
  min-height:60px;
  margin-top:6px;
  margin-bottom:10px;
}

/* TEXTAREA */
textarea {
  width:100%;
  min-height:80px;
  border-radius:14px;
  border:1px solid rgba(31,41,55,0.9);
  background:rgba(15,23,42,0.95);
  color:var(--text-main);
  padding:10px;
  font-size:14px;
  margin-top:12px;
}

/* SPINNER */
#spinnerOverlay {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.6);
  display:none;
  justify-content:center; align-items:center;
  z-index:9999;
}
.spinner {
  border:6px solid rgba(255,255,255,0.2);
  border-top:6px solid var(--accent-2);
  border-radius:50%;
  width:50px; height:50px;
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}

</style>
</head>

<body>

<div id="spinnerOverlay">
  <div class="spinner"></div>
  <div id="spinnerText" style="margin-top:8px;color:var(--accent-2);font-size:15px;">Processing...</div>
</div>

<main>

  <!-- HEADER -->
  <div class="nav">
    <div class="nav-left">
      <div class="logo-mark"><span>L</span></div>
      <div class="logo-text">
        <div class="logo-title">LAILA.ONE</div>
        <div class="logo-sub">CREATIVE INTELLIGENCE ENGINE</div>
      </div>
    </div>
    <button class="btn-outline" id="langToggle">AR</button>
  </div>

  <!-- TITLE -->
  <div class="main-title" id="mainTitle">
    Turn any idea into a ready-to-use AI prompt
  </div>

  <!-- UPLOAD + DESCRIBE -->
  <div class="upload-area">
    <label class="upload-btn">
      Choose File <input type="file" id="imageInput" accept="image/*" hidden>
    </label>
    <button class="btn-compact" id="btnDescribe">Describe image</button>
  </div>

  <!-- IMAGE PREVIEW -->
  <img id="imgPreview" class="preview"/>

  <!-- OUTPUT -->
  <div class="output-panel" id="outputBody"></div>

  <!-- PROMPT TEXT -->
  <textarea id="promptInput" placeholder="Describe what you want to see"></textarea>

  <!-- GENERATE + COPY PROMPT -->
  <div style="display:flex; justify-content:center; gap:8px; margin-top:10px;">
    <button class="btn-compact btn-compact-primary" id="btnGenerate">Generate with LAILA</button>
    <button class="btn-compact" id="btnCopy">Copy Prompt</button>
  </div>

</main>

<script>
// IMAGE PREVIEW
const imgInput = document.getElementById("imageInput");
const imgPreview = document.getElementById("imgPreview");
imgInput.addEventListener("change", () => {
  const file = imgInput.files[0];
  if (!file) { imgPreview.src = ""; return; }
  imgPreview.src = URL.createObjectURL(file);
});

// DESCRIBE IMAGE with Backend
document.getElementById("btnDescribe").addEventListener("click", async () => {
  const file = imgInput.files[0];
  if (!file) return alert("Please upload an image first.");

  showProgress("Describing imageâ€¦");

  const formData = new FormData();
  formData.append("image", file);

  try {
    const res = await fetch("https://laila-backend.onrender.com/describe-image",{method:"POST",body:formData});
    const data = await res.json();
    document.getElementById("outputBody").textContent = data.description || "";
  } catch {
    document.getElementById("outputBody").textContent = "Error describing image.";
  } finally {
    hideProgress();
  }
});

// GENERATE (Just updates Output with prompt text)
document.getElementById("btnGenerate").addEventListener("click",()=>{
  const text = document.getElementById("promptInput").value.trim();
  document.getElementById("outputBody").textContent = text;
});

// COPY PROMPT TEXT
document.getElementById("btnCopy").addEventListener("click",()=>{
  const text = document.getElementById("promptInput").value.trim();
  navigator.clipboard.writeText(text);
});

// SPINNER
const spinner = document.getElementById("spinnerOverlay");
const spinnerText = document.getElementById("spinnerText");
function showProgress(txt){
  spinnerText.textContent = txt;
  spinner.style.display = "flex";
}
function hideProgress(){ spinner.style.display = "none"; }

// LANG TOGGLE (no content change)
let currentLang="en";
document.getElementById("langToggle").addEventListener("click",()=>{
  currentLang = currentLang==="en"?"ar":"en";
  document.getElementById("langToggle").textContent = currentLang==="en"?"AR":"EN";
});
</script>

</body>
</html>